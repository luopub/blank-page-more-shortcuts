# 空白ページのショートカット Chrome拡張機能

新規タブページに最近アクセスしたWebサイトへのショートカットを表示する機能豊富なChromeブラウザ拡張機能で、カスタム表示形式と数量をサポートしています。

## 機能

- 🎯 **スマートショートカット**: 最近アクセスしたWebサイトを自動的に取得し、ドメインごとに重複排除
- ⚙️ **柔軟な設定**: 表示数（10〜50）と形式（グリッド/リスト/カード）のカスタマイズをサポート
- 🔍 **即時検索**: ショートカットのフィルタリングと検索のための組み込み検索ボックス
- 📜 **履歴表示**: ドメインをクリックして、そのWebサイトの下でアクセスしたすべてのページを表示
- 🎨 **美しいUI**: レスポンシブレイアウトを備えたモダンなデザイン
- 💾 **永続設定**: 設定は自動的に保存され、次回の開封時に復元されます
- 🔧 **デュアルコントロール**: ページ内設定と拡張機能ポップアップ設定の両方をサポート
- 🌐 **Webサイトアイコン**: インテリジェントなファビコンの読み込み、内部ネットワークIPアドレスをサポート
- 🌍 **多言語サポート**: 中国語、英語、ドイツ語、フランス語、スペイン語、日本語、韓国語をサポート
- 📊 **ページカウント**: 各ドメインの履歴ページ数を表示

## インストール

1. このプロジェクトをローカルマシンにダウンロードまたはクローンします
2. Chromeブラウザを開き、`chrome://extensions/`に移動します
3. 「デベロッパーモード」を有効にします
4. 「パッケージ化されていない拡張機能を読み込む」をクリックします
5. プロジェクトフォルダを選択します
6. 拡張機能のインストールが完了しました

## 使用ガイド

### 基本的な使用方法
- インストール後、新しいタブを開くとショートカットが表示されます
- ショートカットをクリックすると、対応するWebサイトに直接アクセスできます

### 設定
1. **ページ内設定**: 右上隅の⚙️ボタンをクリックします
2. **拡張機能ポップアップ設定**: ブラウザツールバーの拡張機能アイコンをクリックします

### 検索機能
- 検索ボックスにキーワードを入力して、ショートカットをリアルタイムでフィルタリング
- WebサイトのタイトルとURLの検索をサポート
- Enterキーを押すか、単に入力を開始して検索をトリガー

### 履歴表示
- 複数の履歴ページがあるドメインをクリックして、履歴モーダルを開きます
- モーダルには、そのドメインの下でアクセスしたすべてのページ（最大30件）が表示されます
- ページタイトル、URLパス、アクセス時間が表示されます
- ESCキーまたは外部をクリックしてモーダルを閉じることができます

### 設定可能なオプション
- **表示数**: 10、20、30、40、または50項目
- **表示形式**:
  - グリッドレイアウト: 整然としたグリッド配置
  - リストレイアウト: 垂直リスト表示
  - カードレイアウト: 大きなカードスタイル
- **Webサイトアイコン**: ファビコン表示の有効化/無効化

## ファイル構造

```
blank-page-more-shortcuts/
├── manifest.json          # 拡張機能設定ファイル
├── newtab.html           # 新しいタブページHTML
├── popup.html            # 拡張機能ポップアップHTML
├── styles/
│   ├── newtab.css        # 新しいタブページスタイル
│   └── popup.css         # ポップアップスタイル
├── scripts/
│   ├── newtab.js         # 新しいタブページロジック
│   └── popup.js          # ポップアップロジック
├── icons/                # 拡張機能アイコン（追加予定）
└── README.md             # ドキュメント
```

## 技術実装

### コア技術
- **Manifest V3**: 最新のChrome拡張機能APIを使用
- **Chrome Storage API**: ユーザー設定の永続的保存
- **Chrome History API**: ブラウザ履歴へのアクセス
- **Chrome i18n API**: 多言語サポート
- **モダンJavaScript**: ES6+構文、モジュラー設計
- **Fetch API**: 内部ネットワークIPのアイコン読み込みをサポート

### 主な機能モジュール
1. **設定管理**: ユーザー構成のロード、保存、同期
2. **履歴処理**: 最近アクセスしたWebサイトの取得、フィルタリング、重複排除
3. **ドメイン履歴管理**: 各ドメインの履歴ページリストの保存（最大30）
4. **検索機能**: ショートカットのリアルタイムフィルタリングと検索
5. **モーダルシステム**: ドメインの下の履歴ページを表示
6. **アイコン読み込みシステム**: マルチレベルのフォールバックメカニズム、内部IPと複数のアイコンソースをサポート
7. **UIレンダリング**: 設定に基づいてショートカットインターフェースを動的に生成
8. **イベント処理**: ユーザー操作と設定更新

## 権限

拡張機能には以下の権限が必要です:
- `storage`: ユーザー設定を保存
- `tabs`: タブ情報にアクセス
- `history`: ブラウザ履歴を読み取る

## 開発

### ローカル開発
1. コードを変更した後、`chrome://extensions/`ページで更新ボタンをクリックします
2. 新しいタブを開いて変更を確認します

### スタイルのカスタマイズ
- `styles/newtab.css`を変更してページスタイルを調整します
- `styles/popup.css`を変更してポップアップスタイルを調整します

### 機能拡張
- `scripts/`ディレクトリに新しいJavaScriptモジュールを追加します
- `manifest.json`を変更して必要な権限を追加します

## 注意事項

1. 拡張機能は通常のWebページの履歴にのみアクセスでき、Chromeの内部ページにはアクセスできません
2. 履歴の取得は最大10,000件に制限されています
3. 各ドメインは最大30個の履歴ページを保存します
4. Webサイトアイコンは複数のサードパーティサービス（Yandex、Google、DuckDuckGo）から取得されます
5. 内部ネットワークIPのアイコンはfetch経由で取得されdataURLに変換されるため、読み込み速度に影響する可能性があります
6. アイコンの読み込みに失敗した場合、最初の文字に基づいたカラフルなアイコンがフォールバックとして表示されます

## バージョン情報

- **バージョン**: 1.0.0
- **互換性**: Chrome 88+
- **サポート言語**: 中国語（簡体字）、英語、ドイツ語、フランス語、スペイン語、日本語、韓国語
- **最終更新**: 2026年1月

## ライセンス

MIT License
